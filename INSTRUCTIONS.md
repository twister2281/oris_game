# Инструкция по запуску игры на двух компьютерах

## Шаг 1: Подготовка на обоих компьютерах

1. Скопируйте проект на оба компьютера
2. Скомпилируйте проект на обоих компьютерах:
   ```bash
   ./build.sh
   ```
   или вручную:
   ```bash
   mkdir -p bin
   find src/main/java -name "*.java" > sources.txt
   javac -d bin -sourcepath src/main/java @sources.txt
   rm sources.txt
   ```

## Шаг 2: Запуск сервера (Компьютер 1)

1. **Узнайте IP-адрес компьютера:**

   **Windows:**
   - Откройте командную строку (Win+R → `cmd`)
   - Выполните: `ipconfig`
   - Найдите "IPv4 Address" (например: `192.168.1.100`)

   **macOS/Linux:**
   - Откройте терминал
   - Выполните: `ifconfig` или `ip addr`
   - Найдите IP-адрес в локальной сети (обычно `192.168.x.x` или `10.x.x.x`)

2. **Запустите игру:**
   ```bash
   java -cp bin game.Main
   ```

3. **В диалоговом окне выберите "Server"**

4. **Дождитесь сообщения:** "Server started. Waiting for client..."

## Шаг 3: Запуск клиента (Компьютер 2)

1. **Убедитесь, что оба компьютера в одной сети:**
   - Оба подключены к одному Wi-Fi, или
   - Оба в одной локальной сети

2. **Запустите игру:**
   ```bash
   java -cp bin game.Main
   ```

3. **В диалоговом окне выберите "Client"**

4. **Введите IP-адрес сервера:**
   - В появившемся окне введите IP-адрес компьютера 1
   - Например: `192.168.1.100`
   - Нажмите OK

## Шаг 4: Игра началась!

После подключения клиента игра автоматически начнётся:
- Оба игрока увидят свои лабиринты
- Компас покажет направление к выходу
- Используйте стрелки или WASD для движения
- Первый, кто дойдёт до выхода (золотая точка), побеждает!

## Решение проблем

### Не могу подключиться к серверу

1. **Проверьте IP-адрес:**
   - Убедитесь, что ввели правильный IP-адрес сервера
   - IP должен быть в формате `192.168.x.x` или `10.x.x.x`

2. **Проверьте файрвол:**
   - На сервере разрешите входящие соединения на порт **12345**
   - **Windows:** Панель управления → Брандмауэр → Дополнительные параметры → Правила для входящих подключений → Создать правило → Порт → TCP → 12345
   - **macOS:** Системные настройки → Защита и безопасность → Файрвол → Параметры → Разрешить входящие соединения для Java

3. **Проверьте сеть:**
   - Оба компьютера должны быть в одной сети
   - Попробуйте `ping` с клиента на сервер: `ping 192.168.1.100` (замените на IP сервера)

### Игра не начинается

- Убедитесь, что клиент успешно подключился (статус "Connected")
- Подождите несколько секунд - игра инициализируется автоматически
- Если проблема сохраняется, перезапустите оба приложения

### Тестирование на одном компьютере

Если хотите протестировать на одном компьютере:
1. Запустите первый экземпляр → выберите **Server**
2. Запустите второй экземпляр → выберите **Client**
3. В поле адреса введите `localhost` или `127.0.0.1`

## Порт по умолчанию

Игра использует порт **12345** по умолчанию. Если этот порт занят, измените `DEFAULT_PORT` в файле `src/main/java/game/utils/Constants.java` и перекомпилируйте проект.


